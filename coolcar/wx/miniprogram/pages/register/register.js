"use strict";
Page({
    redirectURL: '',
    data: {
        licNo: '',
        name: '',
        genderIndex: 0,
        genders: ['未知', '男', '女', '其他'],
        birthDate: '1990-01-01',
        licImgURL: '',
        state: 'UNSUBMITTED'
    },
    onLoad(opt) {
        if (opt.redirect) {
            this.redirectURL = decodeURIComponent(opt.redirect);
        }
    },
    onUploadLic() {
        wx.chooseImage({
            success: res => {
                if (res.tempFilePaths.length > 0) {
                    this.setData({
                        licImgURL: res.tempFilePaths[0]
                    });
                    setTimeout(() => {
                        this.setData({
                            licNo: '3243633254',
                            name: '张三',
                            genderIndex: 1,
                            birthDate: '1999-12-23',
                        });
                    }, 1000);
                }
            }
        });
    },
    onGenderChange(e) {
        this.setData({
            genderIndex: e.detail.value,
        });
    },
    onBirthDateChange(e) {
        this.setData({
            birthDate: e.detail.value,
        });
    },
    onSubmit() {
        this.setData({
            state: 'PENDING',
        });
        setTimeout(() => {
            this.onLicVerified();
        }, 3000);
    },
    onReSubmit() {
        this.setData({
            state: 'UNSUBMITTED',
            licImgURL: '',
        });
    },
    onLicVerified() {
        this.setData({
            state: 'VERIFIED',
        });
        if (this.redirectURL) {
            wx.redirectTo({
                url: this.redirectURL,
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZWdpc3Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBSSxDQUFDO0lBQ0QsV0FBVyxFQUFFLEVBQUU7SUFDZixJQUFJLEVBQUU7UUFDRixLQUFLLEVBQUUsRUFBRTtRQUNULElBQUksRUFBRSxFQUFFO1FBQ1IsV0FBVyxFQUFFLENBQUM7UUFDZCxPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUM7UUFDL0IsU0FBUyxFQUFFLFlBQVk7UUFDdkIsU0FBUyxFQUFFLEVBQUU7UUFDYixLQUFLLEVBQUUsYUFBdUQ7S0FDakU7SUFFRCxNQUFNLENBQUMsR0FBRztRQUNOLElBQUksR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1NBQ3REO0lBQ0wsQ0FBQztJQUVELFdBQVc7UUFDUCxFQUFFLENBQUMsV0FBVyxDQUFDO1lBQ1gsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFFO2dCQUNYLElBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDO3dCQUNULFNBQVMsRUFBRSxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztxQkFDbEMsQ0FBQyxDQUFBO29CQUdGLFVBQVUsQ0FBQyxHQUFHLEVBQUU7d0JBQ1osSUFBSSxDQUFDLE9BQU8sQ0FBQzs0QkFDVCxLQUFLLEVBQUUsWUFBWTs0QkFDbkIsSUFBSSxFQUFFLElBQUk7NEJBQ1YsV0FBVyxFQUFFLENBQUM7NEJBQ2QsU0FBUyxFQUFFLFlBQVk7eUJBQzFCLENBQUMsQ0FBQTtvQkFDTixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7aUJBQ1g7WUFFTCxDQUFDO1NBQ0osQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELGNBQWMsQ0FBQyxDQUFNO1FBQ2pCLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDVCxXQUFXLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1NBQzlCLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxDQUFNO1FBQ3BCLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDVCxTQUFTLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1NBQzVCLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxRQUFRO1FBRUosSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNULEtBQUssRUFBRSxTQUFTO1NBQ25CLENBQUMsQ0FBQTtRQUNGLFVBQVUsQ0FBRSxHQUFHLEVBQUU7WUFDYixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7UUFDeEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ1osQ0FBQztJQUNELFVBQVU7UUFDTixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsS0FBSyxFQUFFLGFBQWE7WUFDcEIsU0FBUyxFQUFFLEVBQUU7U0FDaEIsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUNELGFBQWE7UUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsS0FBSyxFQUFFLFVBQVU7U0FDcEIsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ25CLEVBQUUsQ0FBQyxVQUFVLENBQUM7Z0JBQ2IsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXO2FBQ3BCLENBQUMsQ0FBQTtTQUNMO0lBRUwsQ0FBQztDQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIlBhZ2Uoe1xyXG4gICAgcmVkaXJlY3RVUkw6ICcnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAgIGxpY05vOiAnJyxcclxuICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICBnZW5kZXJJbmRleDogMCxcclxuICAgICAgICBnZW5kZXJzOiBbJ+acquefpScsICfnlLcnLCAn5aWzJywgJ+WFtuS7liddLFxyXG4gICAgICAgIGJpcnRoRGF0ZTogJzE5OTAtMDEtMDEnLFxyXG4gICAgICAgIGxpY0ltZ1VSTDogJycsXHJcbiAgICAgICAgc3RhdGU6ICdVTlNVQk1JVFRFRCcgYXMgJ1VOU1VCTUlUVEVEJyB8ICdQRU5ESU5HJyB8ICdWRVJJRklFRCdcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkKG9wdCkge1xyXG4gICAgICAgIGlmIChvcHQucmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWRpcmVjdFVSTCA9IGRlY29kZVVSSUNvbXBvbmVudChvcHQucmVkaXJlY3QpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvblVwbG9hZExpYygpIHtcclxuICAgICAgICB3eC5jaG9vc2VJbWFnZSh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLnRlbXBGaWxlUGF0aHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpY0ltZ1VSTDogcmVzLnRlbXBGaWxlUGF0aHNbMF1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHVwbG9hZCBsaWNcclxuICAgICAgICAgICAgICAgICAgICAvLyDlgYforr7nrYnkuIDnp5LmiY3mi7/liLDop6PmnpDlroxcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpY05vOiAnMzI0MzYzMzI1NCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5byg5LiJJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmRlckluZGV4OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmlydGhEYXRlOiAnMTk5OS0xMi0yMycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBvbkdlbmRlckNoYW5nZShlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICBnZW5kZXJJbmRleDogZS5kZXRhaWwudmFsdWUsXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgb25CaXJ0aERhdGVDaGFuZ2UoZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgICAgYmlydGhEYXRlOiBlLmRldGFpbC52YWx1ZSxcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBvblN1Ym1pdCgpIHtcclxuICAgICAgICAvLyBUT0RPOiBzdWJtaXQgdGhlIGZvcm0gdG8gc2VydmVyXHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgICAgc3RhdGU6ICdQRU5ESU5HJyxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbkxpY1ZlcmlmaWVkKClcclxuICAgICAgICB9LCAzMDAwKVxyXG4gICAgfSxcclxuICAgIG9uUmVTdWJtaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgICAgc3RhdGU6ICdVTlNVQk1JVFRFRCcsXHJcbiAgICAgICAgICAgIGxpY0ltZ1VSTDogJycsXHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBvbkxpY1ZlcmlmaWVkKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgIHN0YXRlOiAnVkVSSUZJRUQnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHRoaXMucmVkaXJlY3RVUkwpIHtcclxuICAgICAgICAgICB3eC5yZWRpcmVjdFRvKHtcclxuICAgICAgICAgICAgdXJsOiB0aGlzLnJlZGlyZWN0VVJMLFxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0pIl19