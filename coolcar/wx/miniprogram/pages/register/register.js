"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
Page({
    redirectURL: '',
    data: {
        licNo: '',
        name: '',
        genderIndex: 0,
        genders: ['未知', '男', '女', '其他'],
        birthDate: '1990-01-01',
        licImgURL: '',
        state: 'UNSUBMITTED'
    },
    onLoad(opt) {
        const o = opt;
        if (o.redirect) {
            this.redirectURL = decodeURIComponent(o.redirect);
        }
    },
    onUploadLic() {
        wx.chooseImage({
            success: res => {
                if (res.tempFilePaths.length > 0) {
                    this.setData({
                        licImgURL: res.tempFilePaths[0]
                    });
                    setTimeout(() => {
                        this.setData({
                            licNo: '3243633254',
                            name: '张三',
                            genderIndex: 1,
                            birthDate: '1999-12-23',
                        });
                    }, 1000);
                }
            }
        });
    },
    onGenderChange(e) {
        this.setData({
            genderIndex: e.detail.value,
        });
    },
    onBirthDateChange(e) {
        this.setData({
            birthDate: e.detail.value,
        });
    },
    onSubmit() {
        this.setData({
            state: 'PENDING',
        });
        setTimeout(() => {
            this.onLicVerified();
        }, 3000);
    },
    onReSubmit() {
        this.setData({
            state: 'UNSUBMITTED',
            licImgURL: '',
        });
    },
    onLicVerified() {
        this.setData({
            state: 'VERIFIED',
        });
        if (this.redirectURL) {
            wx.redirectTo({
                url: this.redirectURL,
            });
        }
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZWdpc3Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLElBQUksQ0FBQztJQUNELFdBQVcsRUFBRSxFQUFFO0lBQ2YsSUFBSSxFQUFFO1FBQ0YsS0FBSyxFQUFFLEVBQUU7UUFDVCxJQUFJLEVBQUUsRUFBRTtRQUNSLFdBQVcsRUFBRSxDQUFDO1FBQ2QsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDO1FBQy9CLFNBQVMsRUFBRSxZQUFZO1FBQ3ZCLFNBQVMsRUFBRSxFQUFFO1FBQ2IsS0FBSyxFQUFFLGFBQXVEO0tBQ2pFO0lBRUQsTUFBTSxDQUFDLEdBQStCO1FBQ2xDLE1BQU0sQ0FBQyxHQUF5QixHQUFHLENBQUE7UUFDbkMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFO1lBQ1osSUFBSSxDQUFDLFdBQVcsR0FBRyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7U0FDcEQ7SUFDTCxDQUFDO0lBRUQsV0FBVztRQUNQLEVBQUUsQ0FBQyxXQUFXLENBQUM7WUFDWCxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUU7Z0JBQ1gsSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQzlCLElBQUksQ0FBQyxPQUFPLENBQUM7d0JBQ1QsU0FBUyxFQUFFLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO3FCQUNsQyxDQUFDLENBQUE7b0JBR0YsVUFBVSxDQUFDLEdBQUcsRUFBRTt3QkFDWixJQUFJLENBQUMsT0FBTyxDQUFDOzRCQUNULEtBQUssRUFBRSxZQUFZOzRCQUNuQixJQUFJLEVBQUUsSUFBSTs0QkFDVixXQUFXLEVBQUUsQ0FBQzs0QkFDZCxTQUFTLEVBQUUsWUFBWTt5QkFDMUIsQ0FBQyxDQUFBO29CQUNOLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQTtpQkFDWDtZQUVMLENBQUM7U0FDSixDQUFDLENBQUE7SUFDTixDQUFDO0lBRUQsY0FBYyxDQUFDLENBQU07UUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNULFdBQVcsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUs7U0FDOUIsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELGlCQUFpQixDQUFDLENBQU07UUFDcEIsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNULFNBQVMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUs7U0FDNUIsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsS0FBSyxFQUFFLFNBQVM7U0FDbkIsQ0FBQyxDQUFBO1FBQ0YsVUFBVSxDQUFFLEdBQUcsRUFBRTtZQUNiLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQTtRQUN4QixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDWixDQUFDO0lBQ0QsVUFBVTtRQUNOLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDVCxLQUFLLEVBQUUsYUFBYTtZQUNwQixTQUFTLEVBQUUsRUFBRTtTQUNoQixDQUFDLENBQUE7SUFDTixDQUFDO0lBQ0QsYUFBYTtRQUNULElBQUksQ0FBQyxPQUFPLENBQUM7WUFDVCxLQUFLLEVBQUUsVUFBVTtTQUNwQixDQUFDLENBQUE7UUFDRixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDbkIsRUFBRSxDQUFDLFVBQVUsQ0FBQztnQkFDYixHQUFHLEVBQUUsSUFBSSxDQUFDLFdBQVc7YUFDcEIsQ0FBQyxDQUFBO1NBQ0w7SUFFTCxDQUFDO0NBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcm91dGluZyB9IGZyb20gXCIuLi8uLi91dGlscy9yb3V0aW5nXCJcclxuXHJcblBhZ2Uoe1xyXG4gICAgcmVkaXJlY3RVUkw6ICcnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAgIGxpY05vOiAnJyxcclxuICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICBnZW5kZXJJbmRleDogMCxcclxuICAgICAgICBnZW5kZXJzOiBbJ+acquefpScsICfnlLcnLCAn5aWzJywgJ+WFtuS7liddLFxyXG4gICAgICAgIGJpcnRoRGF0ZTogJzE5OTAtMDEtMDEnLFxyXG4gICAgICAgIGxpY0ltZ1VSTDogJycsXHJcbiAgICAgICAgc3RhdGU6ICdVTlNVQk1JVFRFRCcgYXMgJ1VOU1VCTUlUVEVEJyB8ICdQRU5ESU5HJyB8ICdWRVJJRklFRCdcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkKG9wdDogUmVjb3JkPCdyZWRpcmVjdCcsIHN0cmluZz4pIHtcclxuICAgICAgICBjb25zdCBvOiByb3V0aW5nLlJlZ2lzdGVyT3B0cyA9IG9wdFxyXG4gICAgICAgIGlmIChvLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVkaXJlY3RVUkwgPSBkZWNvZGVVUklDb21wb25lbnQoby5yZWRpcmVjdClcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uVXBsb2FkTGljKCkge1xyXG4gICAgICAgIHd4LmNob29zZUltYWdlKHtcclxuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMudGVtcEZpbGVQYXRocy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGljSW1nVVJMOiByZXMudGVtcEZpbGVQYXRoc1swXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdXBsb2FkIGxpY1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWBh+iuvuetieS4gOenkuaJjeaLv+WIsOino+aekOWujFxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGljTm86ICczMjQzNjMzMjU0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICflvKDkuIknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZGVySW5kZXg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6ICcxOTk5LTEyLTIzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIG9uR2VuZGVyQ2hhbmdlKGU6IGFueSkge1xyXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XHJcbiAgICAgICAgICAgIGdlbmRlckluZGV4OiBlLmRldGFpbC52YWx1ZSxcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBvbkJpcnRoRGF0ZUNoYW5nZShlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICBiaXJ0aERhdGU6IGUuZGV0YWlsLnZhbHVlLFxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIG9uU3VibWl0KCkge1xyXG4gICAgICAgIC8vIFRPRE86IHN1Ym1pdCB0aGUgZm9ybSB0byBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICBzdGF0ZTogJ1BFTkRJTkcnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uTGljVmVyaWZpZWQoKVxyXG4gICAgICAgIH0sIDMwMDApXHJcbiAgICB9LFxyXG4gICAgb25SZVN1Ym1pdCgpIHtcclxuICAgICAgICB0aGlzLnNldERhdGEoe1xyXG4gICAgICAgICAgICBzdGF0ZTogJ1VOU1VCTUlUVEVEJyxcclxuICAgICAgICAgICAgbGljSW1nVVJMOiAnJyxcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIG9uTGljVmVyaWZpZWQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgICAgICAgc3RhdGU6ICdWRVJJRklFRCcsXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAodGhpcy5yZWRpcmVjdFVSTCkge1xyXG4gICAgICAgICAgIHd4LnJlZGlyZWN0VG8oe1xyXG4gICAgICAgICAgICB1cmw6IHRoaXMucmVkaXJlY3RVUkwsXHJcbiAgICAgICAgICAgIH0pIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxufSkiXX0=